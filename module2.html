<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Module 2: High-Quality CPR</title>
  <style>
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      margin: 0;
      padding: 0;
      background-color: #f0f7f2;
      color: #2c3e50;
    }
    .container {
      max-width: 800px;
      margin: 0 auto;
      padding: 2rem;
    }
    .progress-container {
      width: 100%;
      background-color: #d0e8d0;
      height: 8px;
      border-radius: 8px;
      overflow: hidden;
    }
    .progress-bar {
      height: 100%;
      width: 0%;
      background-color: #4CAF50;
      transition: width 0.3s ease;
    }
    .slide {
      margin-bottom: 3rem;
      padding: 2rem;
      background: #ffffff;
      border-radius: 12px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
    }
    .slide h2 {
      color: #4CAF50;
    }
    .slide img {
      max-width: 100%;
      border-radius: 8px;
      margin-top: 1rem;
    }
    .nav-buttons {
      display: flex;
      justify-content: space-between;
      margin-top: 2rem;
    }
    button {
      padding: 0.6rem 1.4rem;
      font-size: 1rem;
      border: none;
      border-radius: 6px;
      background-color: #4CAF50;
      color: white;
      cursor: pointer;
      transition: background 0.3s ease;
    }
    button:hover:not(:disabled) {
      background-color: #388E3C;
    }
    button:disabled {
      background-color: #bbb;
      cursor: default;
    }
  </style>
</head>
<body>
  <div class="container">

    <!-- Progress Label + Bar -->
    <div style="margin-bottom: 1.5rem;">
      <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.25rem;">
        <strong style="color: #4CAF50;">Module 2 Progress</strong>
        <span id="progressPercent" style="font-size: 0.9rem; color: #555;"></span>
      </div>
      <div class="progress-container">
        <div class="progress-bar" id="progressBar"></div>
      </div>
    </div>

    <div id="slides">
      <div class="slide">
        <h2>High-Quality CPR: Overview</h2>
        <p>High-quality CPR is essential to increase the chance of survival in cardiac arrest. This includes proper chest compression rate and depth, allowing full chest recoil, minimizing interruptions, and avoiding excessive ventilation.</p>
        <p>To keep the correct rhythm (100-120 compressions per minute), you can perform compressions to the beat of the song <strong>"Stayin' Alive"</strong> by the Bee Gees or "Crazy in Love" by Beyoncé—both have the right tempo. You may stop CPR if the person shows signs of life, if you're physically unable to continue, or if emergency help arrives and takes over.</p>
        <img src="module2_slide1.jpg" alt="High-Quality CPR">
      </div>
      <div class="slide">
        <h2>Adult CPR Technique</h2>
        <p>Place the heel of one hand on the center of the chest, place your other hand on top, and interlock your fingers. Keep your elbows straight and use your upper body weight. Compress the chest at least 2 inches (5 cm) deep at a rate of 100-120 compressions per minute. Allow full chest recoil after each compression.</p>
        <p>After every 30 compressions, give 2 rescue breaths if trained and able. Minimize interruptions between compressions and breaths.</p>
        <img src="module2_slide2.jpg" alt="Adult CPR">
      </div>
      <div class="slide">
        <h2>Child CPR Technique</h2>
        <p>Use one or two hands depending on the size of the child. Compress the chest about 2 inches (5 cm) deep at the same rate (100-120/min). Deliver 30 compressions followed by 2 breaths if you’re alone, or 15:2 if two rescuers are present.</p>
        <img src="module2_slide3.jpg" alt="Child CPR">
      </div>
      <div class="slide">
        <h2>Infant CPR Technique</h2>
        <p>Use two fingers in the center of the chest, just below the nipple line. Compress at least 1.5 inches (4 cm) deep at a rate of 100-120 compressions per minute. For 2-rescuer infant CPR, use the two-thumb encircling hands technique and deliver compressions at a 15:2 ratio.</p>
        <img src="module2_slide4.jpg" alt="Infant CPR">
      </div>
      <div class="slide">
        <h2>Next Up: AED Use</h2>
        <p>Now that you’ve learned the key steps of high-quality CPR for all age groups, we’ll move on to how to use an AED effectively in emergencies.</p>
        <img src="module2_slide5.jpg" alt="AED Use">
      </div>
    </div>

    <div class="nav-buttons">
      <button id="prev" onclick="prevSlide()" disabled>Previous</button>
      <button id="next" onclick="nextSlide()">Next</button>
    </div>
  </div>

  <script>
    const p = new URLSearchParams(window.location.search);
    const name  = p.get('name')  || '';
    const email = p.get('email') || '';

    const slides = document.querySelectorAll('.slide');
    let current = 0;
    const prevBtn = document.getElementById('prev');
    const nextBtn = document.getElementById('next');

    function show(i) {
      slides.forEach((s, idx) => s.style.display = idx === i ? 'block' : 'none');
      prevBtn.disabled = i === 0;
      nextBtn.textContent = i === slides.length - 1 ? 'Continue' : 'Next';

      const progress = ((i + 1) / slides.length) * 100;
      document.getElementById('progressBar').style.width = `${progress}%`;
      document.getElementById('progressPercent').textContent = `${Math.round(progress)}%`;
    }

    function next() {
      if (current < slides.length - 1) {
        current++;
        show(current);
      } else {
        location.href = `module3.html?name=${encodeURIComponent(name)}&email=${encodeURIComponent(email)}`;
      }
    }

    function prev() {
      if (current > 0) {
        current--;
        show(current);
      }
    }

    prevBtn.onclick = prev;
    nextBtn.onclick = next;
    show(current);
  </script>
</body>
</html>
